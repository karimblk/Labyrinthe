<?php
session_start();

$laby = array(
# Etage 0
  array(
    array(1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2),
    array(2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),
    array(1,0,1,2,1,1,2,1,2,2,1,2,0,1,0,2),
    array(2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1),
    array(1,0,1,2,1,0,1,1,2,2,0,2,1,2,0,2),
    array(2,0,0,0,0,0,2,0,0,0,0,1,0,0,0,1),
    array(1,1,2,1,2,0,1,2,2,1,0,1,0,1,2,2),
    array(2,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1),
    array(1,0,2,1,1,2,2,1,0,1,1,1,2,2,0,2),
    array(2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1),
    array(1,1,0,1,2,1,2,0,2,2,2,1,1,1,2,2),
    array(2,0,0,1,0,0,2,0,0,0,0,0,0,0,0,1),
    array(1,0,0,2,2,0,1,0,0,0,0,0,0,0,0,2),
    array(2,0,0,0,0,0,1,1,2,1,2,2,0,2,1,1),
    array(1,0,0,1,0,0,0,0,0,0,0,0,0,0,4,2),
    array(2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1)
  )
# Etage 1
 ,array(
    array(1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2),
    array(2,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1),
    array(1,0,1,0,0,0,2,1,2,2,1,2,0,1,1,2),
    array(2,0,2,0,0,0,0,0,0,0,0,1,0,0,0,1),
    array(1,0,1,2,1,0,1,1,2,2,0,6,1,2,0,2),
    array(2,0,0,0,0,0,2,4,0,0,0,1,0,0,0,1),
    array(1,1,2,1,2,0,1,2,2,1,0,1,0,1,2,2),
    array(2,0,0,0,0,0,0,0,0,0,0,2,0,0,0,1),
    array(1,0,2,1,1,2,2,1,0,1,1,1,0,2,0,2),
    array(2,0,0,1,0,0,0,0,0,0,0,0,0,2,0,1),
    array(1,1,0,1,2,1,2,0,2,2,2,1,1,1,0,2),
    array(2,0,0,0,0,0,2,0,1,0,0,1,0,0,0,1),
    array(1,2,0,2,2,0,1,0,0,0,2,1,0,2,0,2),
    array(2,0,0,0,2,1,1,1,2,1,6,2,0,2,1,1),
    array(1,0,1,0,0,0,0,0,0,0,0,0,0,0,5,2),
    array(2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1)
  )
# Etage 2
 ,array(
    array(1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2),
    array(2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),
    array(1,0,1,0,1,1,0,2,2,2,2,2,2,2,1,2),
    array(2,0,2,0,2,0,0,2,0,0,0,0,0,0,0,1),
    array(1,0,1,0,2,0,2,1,0,1,2,1,2,2,0,2),
    array(2,0,2,0,1,0,2,5,0,0,0,0,1,1,0,1),
    array(1,0,1,0,1,0,1,1,0,1,1,0,0,2,0,2),
    array(2,0,0,0,2,0,0,1,0,0,2,0,2,1,0,1),
    array(1,0,1,1,2,1,0,2,1,0,1,0,0,2,0,2),
    array(2,0,0,2,0,2,0,0,0,0,1,2,0,1,0,1),
    array(1,1,0,0,0,1,2,1,2,2,1,0,0,2,0,2),
    array(2,0,0,1,2,1,2,1,2,2,2,1,2,1,0,1),
    array(1,0,2,2,1,1,2,0,1,2,1,2,0,0,0,2),
    array(2,0,0,1,0,0,0,0,0,0,0,0,0,2,0,1),
    array(1,2,0,0,0,1,1,0,1,1,2,2,0,1,0,2),
    array(2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1)
  )
);

$btnAppuye = $_GET["valeur"];
$chaineARetouner="";

if($btnAppuye==0)// Button vert le haut
{
	$_SESSION['positionY']--;
	$x = $_SESSION['positionX'];
	$y = $_SESSION['positionY'];
	if($_SESSION['orientation']==1) // SUD
	{
		//Ligne de A à G
		if($y+3<=15) 
		{
			$flagX = $x+3;
			for ($i=0; $i < 7 ; $i++) 
			{ 
				if($flagX>=0 && $flagX <= 15)
				{
					$chaineARetouner.= $laby[0][$y+3][$flagX]." ";
				}
				else{
					$chaineARetouner.= "0 ";
				}			
				$flagX--;
			}
		}
		else{
			$chaineARetouner.="0 0 0 0 0 0 0";
		}
		//Ligne de H à L
		
	}
	

}
else if($btnAppuye==1) // Button vers le bas
{

}else if($btnAppuye==2) // Button vers la gauche
{

}else if($btnAppuye==3) // Button vers la droite
{

}else if($btnAppuye==4) // Button pour tourner vers la gauche
{

}else if($btnAppuye==5) // Button pour tourner vers la droite
{

}



?>